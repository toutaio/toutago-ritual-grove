ritual:
  name: basic-site
  version: 1.0.0
  description: Basic Toutā website with homepage
  author: Toutā Team
  template_engine: fith

compatibility:
  touta_min: 0.2.0
  touta_max: 1.0.0
  go_min: "1.21"

questions:
  - name: site_name
    prompt: "What is your site name?"
    type: text
    required: true
    default: "My Toutā Site"
    
  - name: port
    prompt: "Which port should the server listen on?"
    type: number
    default: 8080
    validation:
      min: 1024
      max: 65535
      
  - name: enable_database
    prompt: "Enable database support?"
    type: boolean
    default: false
    
  - name: go_version
    prompt: "Go version?"
    type: text
    default: "1.22"

  - name: enable_docker
    prompt: "Enable Docker support?"
    type: boolean
    default: true

files:
  templates:
    - src: main.go.tmpl
      dest: main.go
      
    - src: go.mod.tmpl
      dest: go.mod
      
    - src: handlers/
      dest: handlers/
      
    - src: views/base.html.tmpl
      dest: views/home.html
    
    # Docker support files (conditional)
    - src: _shared:docker/Dockerfile.go.tmpl
      dest: Dockerfile
      condition: "enable_docker"
    
    - src: _shared:docker/docker-compose.yml.tmpl
      dest: docker-compose.yml
      condition: "enable_docker"
    
    - src: _shared:docker/.dockerignore.tmpl
      dest: .dockerignore
      condition: "enable_docker"
    
    - src: _shared:docker/.air.toml.tmpl
      dest: .air.toml
      condition: "enable_docker"
    
    - src: _shared:docker/.env.example.tmpl
      dest: .env.example
      condition: "enable_docker"
    
    - src: _shared:docs/DOCKER.md.tmpl
      dest: DOCKER.md
      condition: "enable_docker"
      
  static:
    - src: style.css
      dest: static/style.css
    
    - src: _shared:docker/wait-for-it.sh
      dest: wait-for-it.sh
      condition: "enable_docker"
      
  directories:
    - handlers
    - views
    - static
    - config

packages:
  - github.com/toutaio/toutago
  - github.com/toutaio/toutago-cosan-router
  - github.com/toutaio/toutago-fith-renderer
